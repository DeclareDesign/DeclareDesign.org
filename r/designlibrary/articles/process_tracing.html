<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Process-Tracing • DesignLibrary</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Process-Tracing">
<meta property="og:description" content="DesignLibrary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">DesignLibrary</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.5.9999</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Example_Design.html">Example Design</a>
    </li>
    <li>
      <a href="../articles/How_to_Write_and_Contribute_Designers.html">How to Write and Contribute Designers</a>
    </li>
    <li>
      <a href="../articles/How_to_Write_and_Contribute_Designs.html">How to Write and Contribute Designs</a>
    </li>
    <li>
      <a href="../articles/binary_iv.html">Binary Instrumental Variable</a>
    </li>
    <li>
      <a href="../articles/block_cluster_two_arm.html">Block-Cluster-Two-Arm Design</a>
    </li>
    <li>
      <a href="../articles/cluster_sampling.html">Cluster Sampling</a>
    </li>
    <li>
      <a href="../articles/factorial.html">Factorial Designs</a>
    </li>
    <li>
      <a href="../articles/mediation_analysis.html">Mediation Analysis Design</a>
    </li>
    <li>
      <a href="../articles/multi_arm.html">Multi-Arm Experiment</a>
    </li>
    <li>
      <a href="../articles/pretest_posttest.html">Pre-Test Post-Test Design</a>
    </li>
    <li>
      <a href="../articles/process_tracing.html">Process-Tracing</a>
    </li>
    <li>
      <a href="../articles/randomized_response.html">Randomized Response</a>
    </li>
    <li>
      <a href="../articles/regression_discontinuity.html">Regression Discontinuity</a>
    </li>
    <li>
      <a href="../articles/spillover.html">Spillover Design</a>
    </li>
    <li>
      <a href="../articles/two_arm.html">Two-Arm Experiment</a>
    </li>
    <li>
      <a href="../articles/two_arm_attrition.html">Two-Arm Experiment with Attrition</a>
    </li>
    <li>
      <a href="../articles/two_arm_covariate.html">Two-Arm Experiment with a Covariate</a>
    </li>
    <li>
      <a href="../articles/two_by_two.html">Two-by-Two Factorial</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/DeclareDesign/DesignLibrary/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="process_tracing_files/accessible-code-block-0.0.1/empty-anchor.js"></script><link href="process_tracing_files/anchor-sections-1.0/anchor-sections.css" rel="stylesheet">
<script src="process_tracing_files/anchor-sections-1.0/anchor-sections.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Process-Tracing</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/DeclareDesign/DesignLibrary/blob/master/../vignettes/process_tracing.Rmd"><code>../vignettes/process_tracing.Rmd</code></a></small>
      <div class="hidden name"><code>process_tracing.Rmd</code></div>

    </div>

    
    
<p>Scholars sometimes employ explicitly Bayesian procedures to evaluate “cause of effects” claims using qualitative data: how probable is the hypothesis that <span class="math inline">\(X\)</span> <em>did in fact</em> cause <span class="math inline">\(Y\)</span>? <span class="citation">Fairfield and Charman (2017)</span>, for example, estimate the probability that the right-wing changed position on tax reform during the 2005 Chilean presidential election (<span class="math inline">\(Y\)</span>) <em>because</em> of anti-inequality campaigns (<span class="math inline">\(X\)</span>) by examining whether the case study narrative bears evidence that you would only expect to see if this were true.<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a></p>
<p>In this design, a researcher evaluates a specific hypothesis, <span class="math inline">\(H\)</span>, according to which <span class="math inline">\(Y\)</span> only happened <em>because</em> <span class="math inline">\(X\)</span> happened. They look for “clues” or evidence, <span class="math inline">\(E\)</span>, in a case narrative or other qualitative data, which would be more or less surprising to see depending on whether <span class="math inline">\(H\)</span> is true. In our example we’ll imagine they choose one country in which there was a civil war (<span class="math inline">\(Y\)</span>) and natural resources (<span class="math inline">\(X\)</span>), and look for evidence (<span class="math inline">\(E\)</span>) that helps update beliefs about <span class="math inline">\(Pr(H)\)</span>—the probability that the civil war happened <em>because</em> natural resources were present.</p>
<div id="design-declaration" class="section level2">
<h2 class="hasAnchor">
<a href="#design-declaration" class="anchor"></a>Design Declaration</h2>
<ul>
<li>
<p><strong>M</strong>odel:</p>
<p>Logically, there are four possible causal relationships between <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span>:</p>
<ol style="list-style-type: decimal">
<li><p>Natural resources could cause civil war when present, resulting in the absence of civil war when natural resources are absent (<span class="math inline">\(X\)</span> causes <span class="math inline">\(Y\)</span>).</p></li>
<li><p>The presence of natural resources could be the only thing preventing war, so that their absence causes civil war (<span class="math inline">\(\neg X\)</span> causes <span class="math inline">\(Y\)</span>).</p></li>
<li><p>Civil war might happen irrespective of whether natural resources are present (<span class="math inline">\(Y\)</span> irrespective of <span class="math inline">\(X\)</span>).</p></li>
<li><p>Civil war might not happen irrespective of whether natural resources are present (<span class="math inline">\(\neg Y\)</span> irrespective of <span class="math inline">\(X\)</span>)</p></li>
</ol>
<p>Our model of the world specifies the probability that a given country has natural resources as well as the (independent) proportion of countries that have one of the causal pathways 1-4.</p>
</li>
<li>
<p><strong>I</strong>nquiry:</p>
<p>We want to figure out if, in the case we chose, the civil war happened <em>because of</em> the natural resources (<span class="math inline">\(H\)</span>) or would have happened regardless of natural resources (<span class="math inline">\(\neg H\)</span>).</p>
</li>
<li>
<p><strong>D</strong>ata strategy:</p>
<p>We pick one case in which <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span> are both true (a country with natural resources where a civil war happened).</p>
</li>
<li>
<p><strong>A</strong>nswer strategy:</p>
<p>We’ll evaluate the likelihood of our causal hypothesis, <span class="math inline">\(H\)</span>, by looking for evidence, <span class="math inline">\(E\)</span>, that would be more or less surprising to see if <span class="math inline">\(X\)</span> truly did cause <span class="math inline">\(Y\)</span>. Specifically, we’ll use Bayes’ rule to figure out <span class="math inline">\(Pr(H \mid E)\)</span>: the posterior probability that <span class="math inline">\(X\)</span> caused <span class="math inline">\(Y\)</span> in the case we chose, given the evidence we found. We make a function that calculates <span class="math inline">\(Pr(H \mid E) = \frac{Pr(H) Pr(E|H)}{Pr(H)Pr(E\mid(H)) + Pr(\neg H)Pr(E\mid\neg H)}\)</span>.</p>
<p>To use Bayes’ rule in conjunction with our evidence, we need to specify a few things. First, a prior <span class="math inline">\(Pr(H)\)</span> that the hypothesis is true. Second and third, we need to state the probabilities with which we would observe a piece of evidence if our hypothesis is true (<span class="math inline">\(Pr(E|H)\)</span>) or false (<span class="math inline">\(Pr(E|\neg H)\)</span>).</p>
<p>Let’s say, for example, that <span class="math inline">\(E_1\)</span> is the national army taking control over natural resources during a civil war. That’s very likely to happen if the natural resources caused the war. We might say <span class="math inline">\(Pr(E_1 \mid H) = .8\)</span>. But even if the natural resources didn’t cause the war, the national army might still take over natural resources for other reasons, say <span class="math inline">\(Pr(E_1 \mid \neg H) = .2\)</span>. This type of clue is often called a “straw-in-the-wind” (SIW): you expect to see it if <span class="math inline">\(H\)</span> is true, but it’s not completely surprising to see it if <span class="math inline">\(H\)</span> is false.</p>
<p>We might look for a second clue: just prior to the civil war, was an armed group created whose main name, aims, and ideology were centered around the capture and control natural resources, and were they also one of the main antagonists? Observing such a clue is really unlikely overall, even if <span class="math inline">\(H\)</span> is true. But it’s very informative if it is observed, since it’s so unlikely to happen if <span class="math inline">\(H\)</span> is not true: that would make the second clue a “smoking gun” (SMG). Let’s say <span class="math inline">\(Pr(E_2 \mid H) = .3, Pr(E_2 \mid \neg H) = 0\)</span>.</p>
<p>We’ll compare approaches in which a researcher doesn’t look for any evidence, only looks for a SIW, and only looks for a SMG. In practice, researchers seldom pre-commit to updating from a single piece of evidence, but search for multiple clues and updating about their cause of effects hypotheses jointly. Doing so in fact requires that we specify the joint distribution of the clues. There is often good reason to think clues could be correlated, conditional on the hypothesis being true or false: for example, the fact that an armed group formed in order to take resources (<span class="math inline">\(E_2\)</span>) might convince the government to take over the natural resource (<span class="math inline">\(E_1\)</span>), or dissuade them!</p>
</li>
</ul>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">N</span> <span class="op">&lt;-</span> <span class="fl">100</span>
<span class="va">prob_X</span> <span class="op">&lt;-</span> <span class="fl">0.5</span>
<span class="va">process_proportions</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.25</span>, <span class="fl">0.25</span>, <span class="fl">0.25</span>, <span class="fl">0.25</span><span class="op">)</span>
<span class="va">prior_H</span> <span class="op">&lt;-</span> <span class="fl">0.5</span>
<span class="va">p_E1_H</span> <span class="op">&lt;-</span> <span class="fl">0.8</span>
<span class="va">p_E1_not_H</span> <span class="op">&lt;-</span> <span class="fl">0.2</span>
<span class="va">p_E2_H</span> <span class="op">&lt;-</span> <span class="fl">0.3</span>
<span class="va">p_E2_not_H</span> <span class="op">&lt;-</span> <span class="fl">0</span>
<span class="va">cor_E1E2_H</span> <span class="op">&lt;-</span> <span class="fl">0</span>
<span class="va">cor_E1E2_not_H</span> <span class="op">&lt;-</span> <span class="fl">0</span>
<span class="va">label_E1</span> <span class="op">&lt;-</span> <span class="st">"Straw in the Wind"</span>
<span class="va">label_E2</span> <span class="op">&lt;-</span> <span class="st">"Smoking Gun"</span>

<span class="va">population</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/DeclareDesign/man/declare_population.html">declare_population</a></span><span class="op">(</span>N <span class="op">=</span> <span class="va">N</span>, causal_process <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"X_causes_Y"</span>, 
    <span class="st">"Y_regardless"</span>, <span class="st">"X_causes_not_Y"</span>, <span class="st">"not_Y_regardless"</span><span class="op">)</span>, 
    size <span class="op">=</span> <span class="va">N</span>, replace <span class="op">=</span> <span class="cn">TRUE</span>, prob <span class="op">=</span> <span class="va">process_proportions</span><span class="op">)</span>, 
    X <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html">rbinom</a></span><span class="op">(</span><span class="va">N</span>, <span class="fl">1</span>, <span class="va">prob_X</span><span class="op">)</span> <span class="op">==</span> <span class="fl">1</span>, Y <span class="op">=</span> <span class="op">(</span><span class="va">X</span> <span class="op">&amp;</span> <span class="va">causal_process</span> <span class="op">==</span> 
        <span class="st">"X_causes_Y"</span><span class="op">)</span> <span class="op">|</span> <span class="op">(</span><span class="op">!</span><span class="va">X</span> <span class="op">&amp;</span> <span class="va">causal_process</span> <span class="op">==</span> <span class="st">"X_causes_not_Y"</span><span class="op">)</span> <span class="op">|</span> 
        <span class="op">(</span><span class="va">causal_process</span> <span class="op">==</span> <span class="st">"Y_regardless"</span><span class="op">)</span><span class="op">)</span>
<span class="va">select_case</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/DeclareDesign/man/declare_sampling.html">declare_sampling</a></span><span class="op">(</span>strata <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="va">X</span>, <span class="va">Y</span><span class="op">)</span>, strata_n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>X0Y0 <span class="op">=</span> <span class="fl">0</span>, 
    X0Y1 <span class="op">=</span> <span class="fl">0</span>, X1Y0 <span class="op">=</span> <span class="fl">0</span>, X1Y1 <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span>
<span class="va">estimand</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/DeclareDesign/man/declare_estimand.html">declare_estimand</a></span><span class="op">(</span>did_X_cause_Y <span class="op">=</span> <span class="va">causal_process</span> <span class="op">==</span> 
    <span class="st">"X_causes_Y"</span><span class="op">)</span>
<span class="va">joint_prob</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">p1</span>, <span class="va">p2</span>, <span class="va">rho</span><span class="op">)</span> <span class="op">{</span>
    <span class="va">r</span> <span class="op">&lt;-</span> <span class="va">rho</span> <span class="op">*</span> <span class="op">(</span><span class="va">p1</span> <span class="op">*</span> <span class="va">p2</span> <span class="op">*</span> <span class="op">(</span><span class="fl">1</span> <span class="op">-</span> <span class="va">p1</span><span class="op">)</span> <span class="op">*</span> <span class="op">(</span><span class="fl">1</span> <span class="op">-</span> <span class="va">p2</span><span class="op">)</span><span class="op">)</span><span class="op">^</span><span class="fl">0.5</span>
    <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>p00 <span class="op">=</span> <span class="op">(</span><span class="fl">1</span> <span class="op">-</span> <span class="va">p1</span><span class="op">)</span> <span class="op">*</span> <span class="op">(</span><span class="fl">1</span> <span class="op">-</span> <span class="va">p2</span><span class="op">)</span> <span class="op">+</span> <span class="va">r</span>, p01 <span class="op">=</span> <span class="va">p2</span> <span class="op">*</span> <span class="op">(</span><span class="fl">1</span> <span class="op">-</span> <span class="va">p1</span><span class="op">)</span> <span class="op">-</span> 
        <span class="va">r</span>, p10 <span class="op">=</span> <span class="va">p1</span> <span class="op">*</span> <span class="op">(</span><span class="fl">1</span> <span class="op">-</span> <span class="va">p2</span><span class="op">)</span> <span class="op">-</span> <span class="va">r</span>, p11 <span class="op">=</span> <span class="va">p1</span> <span class="op">*</span> <span class="va">p2</span> <span class="op">+</span> <span class="va">r</span><span class="op">)</span>
<span class="op">}</span>
<span class="va">joint_prob_H</span> <span class="op">&lt;-</span> <span class="fu">joint_prob</span><span class="op">(</span><span class="va">p_E1_H</span>, <span class="va">p_E2_H</span>, <span class="va">cor_E1E2_H</span><span class="op">)</span>
<span class="va">joint_prob_not_H</span> <span class="op">&lt;-</span> <span class="fu">joint_prob</span><span class="op">(</span><span class="va">p_E1_not_H</span>, <span class="va">p_E2_not_H</span>, <span class="va">cor_E1E2_not_H</span><span class="op">)</span>
<span class="va">trace_processes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/DeclareDesign/man/declare_step.html">declare_step</a></span><span class="op">(</span>test_results <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"00"</span>, 
    <span class="st">"01"</span>, <span class="st">"10"</span>, <span class="st">"11"</span><span class="op">)</span>, <span class="fl">1</span>, prob <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="va">causal_process</span> <span class="op">==</span> 
    <span class="st">"X_causes_Y"</span>, <span class="fl">4</span><span class="op">)</span>, <span class="va">joint_prob_H</span>, <span class="va">joint_prob_not_H</span><span class="op">)</span><span class="op">)</span>, E1 <span class="op">=</span> <span class="va">test_results</span> <span class="op">==</span> 
    <span class="st">"10"</span> <span class="op">|</span> <span class="va">test_results</span> <span class="op">==</span> <span class="st">"11"</span>, E2 <span class="op">=</span> <span class="va">test_results</span> <span class="op">==</span> <span class="st">"01"</span> <span class="op">|</span> 
    <span class="va">test_results</span> <span class="op">==</span> <span class="st">"11"</span>, handler <span class="op">=</span> <span class="va">fabricate</span><span class="op">)</span>
<span class="va">bayes_rule</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">p_H</span>, <span class="va">p_E_H</span>, <span class="va">p_E_not_H</span><span class="op">)</span> <span class="op">{</span>
    <span class="va">p_E_H</span> <span class="op">*</span> <span class="va">p_H</span><span class="op">/</span><span class="op">(</span><span class="va">p_E_H</span> <span class="op">*</span> <span class="va">p_H</span> <span class="op">+</span> <span class="va">p_E_not_H</span> <span class="op">*</span> <span class="op">(</span><span class="fl">1</span> <span class="op">-</span> <span class="va">p_H</span><span class="op">)</span><span class="op">)</span>
<span class="op">}</span>
<span class="va">prior_only</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">data</span><span class="op">)</span> <span class="op">{</span>
    <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/with.html">with</a></span><span class="op">(</span><span class="va">data</span>, <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>posterior_H <span class="op">=</span> <span class="fu">bayes_rule</span><span class="op">(</span>p_H <span class="op">=</span> <span class="va">prior_H</span>, 
        p_E_H <span class="op">=</span> <span class="fl">1</span>, p_E_not_H <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>, result <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="op">}</span>
<span class="va">E1_only</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">data</span><span class="op">)</span> <span class="op">{</span>
    <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/with.html">with</a></span><span class="op">(</span><span class="va">data</span>, <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>posterior_H <span class="op">=</span> <span class="fu">bayes_rule</span><span class="op">(</span>p_H <span class="op">=</span> <span class="va">prior_H</span>, 
        p_E_H <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span><span class="va">E1</span>, <span class="va">p_E1_H</span>, <span class="fl">1</span> <span class="op">-</span> <span class="va">p_E1_H</span><span class="op">)</span>, p_E_not_H <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span><span class="va">E1</span>, 
            <span class="va">p_E1_not_H</span>, <span class="fl">1</span> <span class="op">-</span> <span class="va">p_E1_not_H</span><span class="op">)</span><span class="op">)</span>, result <span class="op">=</span> <span class="va">E1</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="op">}</span>
<span class="va">E2_only</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">data</span><span class="op">)</span> <span class="op">{</span>
    <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/with.html">with</a></span><span class="op">(</span><span class="va">data</span>, <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>posterior_H <span class="op">=</span> <span class="fu">bayes_rule</span><span class="op">(</span>p_H <span class="op">=</span> <span class="va">prior_H</span>, 
        p_E_H <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span><span class="va">E2</span>, <span class="va">p_E2_H</span>, <span class="fl">1</span> <span class="op">-</span> <span class="va">p_E2_H</span><span class="op">)</span>, p_E_not_H <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span><span class="va">E2</span>, 
            <span class="va">p_E2_not_H</span>, <span class="fl">1</span> <span class="op">-</span> <span class="va">p_E2_not_H</span><span class="op">)</span><span class="op">)</span>, result <span class="op">=</span> <span class="va">E2</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="op">}</span>
<span class="va">E1_and_E2</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">data</span><span class="op">)</span> <span class="op">{</span>
    <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/with.html">with</a></span><span class="op">(</span><span class="va">data</span>, <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>posterior_H <span class="op">=</span> <span class="fu">bayes_rule</span><span class="op">(</span>p_H <span class="op">=</span> <span class="va">prior_H</span>, 
        p_E_H <span class="op">=</span> <span class="va">joint_prob_H</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"00"</span>, <span class="st">"01"</span>, <span class="st">"10"</span>, <span class="st">"11"</span><span class="op">)</span> <span class="op">%in%</span> 
            <span class="va">test_results</span><span class="op">]</span>, p_E_not_H <span class="op">=</span> <span class="va">joint_prob_not_H</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"00"</span>, 
            <span class="st">"01"</span>, <span class="st">"10"</span>, <span class="st">"11"</span><span class="op">)</span> <span class="op">%in%</span> <span class="va">test_results</span><span class="op">]</span><span class="op">)</span>, result <span class="op">=</span> <span class="va">test_results</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="op">}</span>
<span class="va">prior_only_estimator</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/DeclareDesign/man/declare_estimator.html">declare_estimator</a></span><span class="op">(</span>handler <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/DeclareDesign/man/declare_estimator.html">label_estimator</a></span><span class="op">(</span><span class="va">prior_only</span><span class="op">)</span>, 
    label <span class="op">=</span> <span class="st">"No tests (Prior)"</span>, estimand <span class="op">=</span> <span class="va">estimand</span><span class="op">)</span>
<span class="va">E1_only_estimator</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/DeclareDesign/man/declare_estimator.html">declare_estimator</a></span><span class="op">(</span>handler <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/DeclareDesign/man/declare_estimator.html">label_estimator</a></span><span class="op">(</span><span class="va">E1_only</span><span class="op">)</span>, 
    label <span class="op">=</span> <span class="va">label_E1</span>, estimand <span class="op">=</span> <span class="va">estimand</span><span class="op">)</span>
<span class="va">E2_only_estimator</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/DeclareDesign/man/declare_estimator.html">declare_estimator</a></span><span class="op">(</span>handler <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/DeclareDesign/man/declare_estimator.html">label_estimator</a></span><span class="op">(</span><span class="va">E2_only</span><span class="op">)</span>, 
    label <span class="op">=</span> <span class="va">label_E2</span>, estimand <span class="op">=</span> <span class="va">estimand</span><span class="op">)</span>
<span class="va">E1_and_E2_estimator</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/DeclareDesign/man/declare_estimator.html">declare_estimator</a></span><span class="op">(</span>handler <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/DeclareDesign/man/declare_estimator.html">label_estimator</a></span><span class="op">(</span><span class="va">E1_and_E2</span><span class="op">)</span>, 
    label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="va">label_E1</span>, <span class="st">"and"</span>, <span class="va">label_E2</span><span class="op">)</span>, estimand <span class="op">=</span> <span class="va">estimand</span><span class="op">)</span>
<span class="va">process_tracing_design</span> <span class="op">&lt;-</span> <span class="va">population</span> <span class="op">+</span> <span class="va">select_case</span> <span class="op">+</span> <span class="va">trace_processes</span> <span class="op">+</span> 
    <span class="va">estimand</span> <span class="op">+</span> <span class="va">prior_only_estimator</span> <span class="op">+</span> <span class="va">E1_only_estimator</span> <span class="op">+</span> 
    <span class="va">E2_only_estimator</span> <span class="op">+</span> <span class="va">E1_and_E2_estimator</span></code></pre></div>
</div>
<div id="takeaways" class="section level2">
<h2 class="hasAnchor">
<a href="#takeaways" class="anchor"></a>Takeaways</h2>
<p>We’ll look at how the four approaches (no tests, SIW only, SMG only, SIW + SMG) perform in terms of RMSE across different levels of correlation in clues when <span class="math inline">\(H\)</span> is true.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">designs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/DeclareDesign/man/expand_design.html">expand_design</a></span><span class="op">(</span>designer <span class="op">=</span> <span class="va">process_tracing_designer</span>,cor_E1E2_H <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">.32</span>, <span class="fl">0</span>, <span class="fl">.32</span><span class="op">)</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/pkg/DeclareDesign/man/diagnose_design.html">diagnose_designs</a></span><span class="op">(</span><span class="va">designs</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://rdrr.io/pkg/DeclareDesign/man/diagnosis_helpers.html">get_diagnosands</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">ggplot</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span><span class="va">cor_E1E2_H</span>, <span class="va">rmse</span>, color <span class="op">=</span> <span class="va">estimator_label</span>, group <span class="op">=</span> <span class="va">estimator_label</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">geom_point</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu">geom_line</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu">theme_bw</span><span class="op">(</span><span class="op">)</span> </code></pre></div>
<p><img src="process_tracing_files/figure-html/unnamed-chunk-2-1.png" width="700"></p>
<ul>
<li><p>As expected, using more data gets you better answers on average: the RMSE is highest with no process-tracing, lowest when both clues are used, and middling when only one clue is used.</p></li>
<li><p>Against conventional wisdom,<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a> however, the straw-in-the-wind outperforms the smoking gun. That’s somewhat surprising, since the smoking gun is perfectly informative when observed, whereas observing the straw-in-the-wind leaves open the possibility that the hypothesis is false. While the researcher is still making mistakes with the straw-in-the-wind, they’re observing it more frequently, and so have more opportunities to update in the right direction. By contrast, the smoking gun is rare: many times it is not observed, and so the researcher downweights the posterior probability of <span class="math inline">\(H\)</span>. Compared to the gun, the straw is less wrong more often.</p></li>
<li><p>Notice that the gains from a joint approach are much greater when the clues are negatively correlated than when they are positively correlated. This feature arises because the pieces of evidence carry less independent information when they are positively correlated. To see this, suppose they were perfectly correlated, so that seeing one guaranteed the other would also be present. In this case, there is no additional information gleaned from the observation of one clue once the other has been observed: they are effectively equivalent tests.</p></li>
</ul>
<div id="refs" class="references">
<div id="ref-collier2011understanding">
<p>Collier, David. 2011. “Understanding Process Tracing.” <em>PS: Political Science &amp; Politics</em> 44 (4): 823–30.</p>
</div>
<div id="ref-fairfield2017explicit">
<p>Fairfield, Tasha, and Andrew E. Charman. 2017. “Explicit Bayesian Analysis for Process Tracing: Guidelines, Opportunities, and Caveats.” <em>Political Analysis</em> 25 (3): 363–80.</p>
</div>
</div>
</div>
<div class="footnotes">
<hr>
<ol>
<li id="fn1"><p>For example: “the former President [said] that the tax subsidy ‘never would have been eliminated if I had not taken [the opposition candidate] at his word’ when the latter publicly professed concern over inequality.” (<span class="citation">Fairfield and Charman (2017)</span>)<a href="#fnref1" class="footnote-back">↩︎</a></p></li>
<li id="fn2"><p>E.g. <span class="citation">Collier (2011)</span>: of the four process-tracing tests, straws-in-the-wind are ``the weakest and place the least demand on the researcher’s knowledge and assumptions.’’ (826)<a href="#fnref2" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Graeme Blair, Jasper Cooper, Alexander Coppock, Macartan Humphreys, Clara Bicalho, Neal Fultz, Lily Medina.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
