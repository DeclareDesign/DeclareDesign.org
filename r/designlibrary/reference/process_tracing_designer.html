<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Create a process-tracing design — process_tracing_designer • DesignLibrary</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Create a process-tracing design — process_tracing_designer" />
<meta property="og:description" content="Builds a design in which two pieces of evidence are sought and used to update about whether X caused Y using Bayes' rule." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="https://declaredesign.org"><img height = 125% src = "https://declaredesign.org/images/brand.svg"></a>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Software
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="http://declaredesign.org/r/declaredesign/">DeclareDesign</a>
    </li>
    <li>
      <a href="https://declaredesign.org/r/randomizr/">randomizr</a>
    </li>
    <li>
      <a href="https://declaredesign.org/r/fabricatr/">fabricatr</a>
    </li>
    <li>
      <a href="https://declaredesign.org/r/estimatr/">estimatr</a>
    </li>
  </ul>
</li>
<li>
  <a href="http://discuss.declaredesign.org">Help</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/How_to_Write_and_Contribute_Designers.html">How to Write and Contribute Designers</a>
    </li>
    <li>
      <a href="../articles/How_to_Write_and_Contribute_Designs.html">How to Write and Contribute Designs</a>
    </li>
  </ul>
</li>
<li>
  <a href="https://declaredesign.org/r/designlibrary/">DesignLibrary home</a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->




      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Create a process-tracing design</h1>
    <small class="dont-index">Source: <a href='https://github.com/DeclareDesign/DesignLibrary/blob/master/R/process_tracing_designer.R'><code>R/process_tracing_designer.R</code></a></small>
    <div class="hidden name"><code>process_tracing_designer.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Builds a design in which two pieces of evidence are sought and used to update about whether X caused Y using Bayes' rule.</p>
    </div>

    <pre class="usage"><span class='fu'>process_tracing_designer</span><span class='op'>(</span>
  N <span class='op'>=</span> <span class='fl'>100</span>,
  prob_X <span class='op'>=</span> <span class='fl'>0.5</span>,
  process_proportions <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.25</span>, <span class='fl'>0.25</span>, <span class='fl'>0.25</span>, <span class='fl'>0.25</span><span class='op'>)</span>,
  prior_H <span class='op'>=</span> <span class='fl'>0.5</span>,
  p_E1_H <span class='op'>=</span> <span class='fl'>0.8</span>,
  p_E1_not_H <span class='op'>=</span> <span class='fl'>0.2</span>,
  p_E2_H <span class='op'>=</span> <span class='fl'>0.3</span>,
  p_E2_not_H <span class='op'>=</span> <span class='fl'>0</span>,
  cor_E1E2_H <span class='op'>=</span> <span class='fl'>0</span>,
  cor_E1E2_not_H <span class='op'>=</span> <span class='fl'>0</span>,
  label_E1 <span class='op'>=</span> <span class='st'>"Straw in the Wind"</span>,
  label_E2 <span class='op'>=</span> <span class='st'>"Smoking Gun"</span>,
  args_to_fix <span class='op'>=</span> <span class='cn'>NULL</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>N</th>
      <td><p>An integer. Size of population of cases from which a single case is selected.</p></td>
    </tr>
    <tr>
      <th>prob_X</th>
      <td><p>A number in [0,1]. Probability that X = 1 for a given case (equal throughout population of cases).</p></td>
    </tr>
    <tr>
      <th>process_proportions</th>
      <td><p>A vector of numbers in [0,1] that sums to 1. Simplex denoting the proportion of cases in the population in which, respectively: 1) X causes Y; 2) Y occurs regardless of X; 3) X causes the absence of Y; 4) Y is absent regardless of X.</p></td>
    </tr>
    <tr>
      <th>prior_H</th>
      <td><p>A number in [0,1]. Prior probability that X causes Y in a given case in which X and Y are both present.</p></td>
    </tr>
    <tr>
      <th>p_E1_H</th>
      <td><p>A number in [0,1]. Probability of observing first piece of evidence given hypothesis that X caused Y is true.</p></td>
    </tr>
    <tr>
      <th>p_E1_not_H</th>
      <td><p>A number in [0,1]. Probability of observing first piece of evidence given hypothesis that X caused Y is not true.</p></td>
    </tr>
    <tr>
      <th>p_E2_H</th>
      <td><p>A number in [0,1]. Probability of observing second piece of evidence given hypothesis that X caused Y is true.</p></td>
    </tr>
    <tr>
      <th>p_E2_not_H</th>
      <td><p>A number in [0,1]. Probability of observing second piece of evidence given hypothesis that X caused Y is not true.</p></td>
    </tr>
    <tr>
      <th>cor_E1E2_H</th>
      <td><p>A number in [-1,1]. Correlation between first and second pieces of evidence given hypothesis that X caused Y is true.</p></td>
    </tr>
    <tr>
      <th>cor_E1E2_not_H</th>
      <td><p>A number in [-1,1]. Correlation between first and second pieces of evidence given hypothesis that X caused Y is not true.</p></td>
    </tr>
    <tr>
      <th>label_E1</th>
      <td><p>A string. Label for the first piece of evidence (e.g., "Straw in the Wind").</p></td>
    </tr>
    <tr>
      <th>label_E2</th>
      <td><p>A string. Label for the second piece of evidence (e.g., "Smoking Gun").</p></td>
    </tr>
    <tr>
      <th>args_to_fix</th>
      <td><p>A character vector. Names of arguments to be args_to_fix in design.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A process-tracing design.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The model posits a population of <code>N</code> cases, each of which does or does not exhibit the presence of some outcome, Y. With probability <code>prob_X</code>, each case also exhibits the presence or absence of some potential cause, X. The outcome Y can be realized through four distinct causal relations, distributed through the population of cases according to <code>process_proportions</code>. First, the presence of X might cause Y. Second, the absence of X might cause Y. Third, Y might be present irrespective of X. Fourth, Y might be absent irrespective of X.</p>
<p>Our inquiry is a "cause of effects" question. We wish to know whether a specific case was one in which the presence (absence) of X caused the presence (absence) of Y.</p>
<p>Our data strategy consists of selecting one case at random in which both X and Y are present. As part of the data strategy we seek two pieces of evidence in favor of or against the hypothesized causal relationship, H, in which X causes Y.</p>
<p>The first (second) piece of evidence is observed with probability <code>p_E1_H</code> (<code>p_E2_H</code>) when H is true, and with probability <code>p_E1_not_H</code> (<code>p_E2_not_H</code>) when H is false.</p>
<p>Conditional on H being true (false), the correlation between the two pieces of evidence is given by <code>cor_E1E2_H</code> (<code>cor_E1E2_not_H</code>).</p>
<p>The researcher uses Bayes’ rule to update about the probability that X caused Y given the evidence. In other words, they form a posterior inference, Pr(H|E). We specify four answer strategies for forming this inference. The first simply ignores the evidence and is equivalent to stating a prior belief without doing any causal process tracing. The second conditions inferences only on the first piece of evidence, and the third only on the second piece of evidence. The fourth strategy conditions posterior inferences on both pieces of evidence simultaneously.</p>
<p>We specify as diagnosands for this design the bias, RMSE, mean(estimand), mean(estimate) and sd(estimate).</p>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p><a href='https://declaredesign.org/'>DeclareDesign Team</a></p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Generate a process-tracing design using default arguments:</span>
<span class='va'>pt_1</span> <span class='op'>&lt;-</span> <span class='fu'>process_tracing_designer</span><span class='op'>(</span><span class='op'>)</span>
<span class='fu'><a href='https://declaredesign.org/r/declaredesign/reference/draw_functions.html'>draw_estimands</a></span><span class='op'>(</span><span class='va'>pt_1</span><span class='op'>)</span>
</div><div class='output co'>#&gt;         inquiry estimand
#&gt; 1 did_X_cause_Y     TRUE</div><div class='input'><span class='fu'><a href='https://declaredesign.org/r/declaredesign/reference/draw_functions.html'>draw_estimates</a></span><span class='op'>(</span><span class='va'>pt_1</span><span class='op'>)</span>
</div><div class='output co'>#&gt;                           estimator posterior_H result       inquiry
#&gt; 1                  No tests (Prior)   0.5000000   TRUE did_X_cause_Y
#&gt; 2                 Straw in the Wind   0.2000000  FALSE did_X_cause_Y
#&gt; 3                       Smoking Gun   0.4117647  FALSE did_X_cause_Y
#&gt; 4 Straw in the Wind and Smoking Gun   0.1489362     00 did_X_cause_Y</div><div class='input'><span class='fu'><a href='https://declaredesign.org/r/declaredesign/reference/draw_functions.html'>draw_data</a></span><span class='op'>(</span><span class='va'>pt_1</span><span class='op'>)</span>
</div><div class='output co'>#&gt;    ID causal_process    X    Y S test_results   E1    E2
#&gt; 1 043   Y_regardless TRUE TRUE 1           10 TRUE FALSE</div><div class='input'><span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='fu'><a href='https://declaredesign.org/r/declaredesign/reference/diagnose_design.html'>diagnose_design</a></span><span class='op'>(</span><span class='va'>pt_1</span>, sims <span class='op'>=</span> <span class='fl'>1000</span><span class='op'>)</span>
<span class='op'>}</span>

<span class='co'># A design in which the smoking gun and straw-in-the-wind are correlated</span>
<span class='va'>pt_2</span> <span class='op'>&lt;-</span> <span class='fu'>process_tracing_designer</span><span class='op'>(</span>cor_E1E2_H <span class='op'>=</span> <span class='fl'>.32</span><span class='op'>)</span>
<span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='fu'><a href='https://declaredesign.org/r/declaredesign/reference/diagnose_design.html'>diagnose_design</a></span><span class='op'>(</span><span class='va'>pt_2</span>, sims <span class='op'>=</span> <span class='fl'>1000</span><span class='op'>)</span>
<span class='op'>}</span>

<span class='co'># A design with two doubly-decisive tests pointing in opposite directions</span>
<span class='va'>pt_3</span> <span class='op'>&lt;-</span> <span class='fu'>process_tracing_designer</span><span class='op'>(</span>p_E1_H <span class='op'>=</span> <span class='fl'>.80</span>,p_E1_not_H <span class='op'>=</span> <span class='fl'>.05</span>,
                                 label_E1 <span class='op'>=</span> <span class='st'>"Doubly-Decisive: H"</span>,
                                 p_E2_H <span class='op'>=</span> <span class='fl'>.05</span>,p_E2_not_H <span class='op'>=</span> <span class='fl'>.80</span>,
                                 label_E2 <span class='op'>=</span> <span class='st'>"Doubly-Decisive: Not H"</span><span class='op'>)</span>
<span class='fu'><a href='https://declaredesign.org/r/declaredesign/reference/draw_functions.html'>draw_estimates</a></span><span class='op'>(</span><span class='va'>pt_3</span><span class='op'>)</span>                                
</div><div class='output co'>#&gt;                                       estimator posterior_H result
#&gt; 1                              No tests (Prior)  0.50000000   TRUE
#&gt; 2                            Doubly-Decisive: H  0.17391304  FALSE
#&gt; 3                        Doubly-Decisive: Not H  0.05882353   TRUE
#&gt; 4 Doubly-Decisive: H and Doubly-Decisive: Not H  0.01298701     01
#&gt;         inquiry
#&gt; 1 did_X_cause_Y
#&gt; 2 did_X_cause_Y
#&gt; 3 did_X_cause_Y
#&gt; 4 did_X_cause_Y</div><div class='input'><span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='fu'><a href='https://declaredesign.org/r/declaredesign/reference/diagnose_design.html'>diagnose_design</a></span><span class='op'>(</span><span class='va'>pt_3</span>, sims <span class='op'>=</span> <span class='fl'>1000</span><span class='op'>)</span>
<span class='op'>}</span>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Graeme Blair, Jasper Cooper, Alexander Coppock, Macartan Humphreys, Clara Bicalho, Neal Fultz, Lily Medina.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


