<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Create a two-by-two factorial design — two_by_two_designer • DesignLibrary</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Create a two-by-two factorial design — two_by_two_designer" />
<meta property="og:description" content="Builds a two-by-two factorial design in which assignments to each factor are independent of each other." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="https://declaredesign.org"><img height = 125% src = "https://declaredesign.org/images/brand.svg"></a>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Software
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="http://declaredesign.org/r/declaredesign/">DeclareDesign</a>
    </li>
    <li>
      <a href="https://declaredesign.org/r/randomizr/">randomizr</a>
    </li>
    <li>
      <a href="https://declaredesign.org/r/fabricatr/">fabricatr</a>
    </li>
    <li>
      <a href="https://declaredesign.org/r/estimatr/">estimatr</a>
    </li>
  </ul>
</li>
<li>
  <a href="http://discuss.declaredesign.org">Help</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/How_to_Write_and_Contribute_Designers.html">How to Write and Contribute Designers</a>
    </li>
    <li>
      <a href="../articles/How_to_Write_and_Contribute_Designs.html">How to Write and Contribute Designs</a>
    </li>
  </ul>
</li>
<li>
  <a href="https://declaredesign.org/r/designlibrary/">DesignLibrary home</a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->




      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Create a two-by-two factorial design</h1>
    <small class="dont-index">Source: <a href='https://github.com/DeclareDesign/DesignLibrary/blob/master/R/two_by_two_designer.R'><code>R/two_by_two_designer.R</code></a></small>
    <div class="hidden name"><code>two_by_two_designer.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Builds a two-by-two factorial design in which assignments to each factor are independent of each other.</p>
    </div>

    <pre class="usage"><span class='fu'>two_by_two_designer</span><span class='op'>(</span>
  N <span class='op'>=</span> <span class='fl'>100</span>,
  prob_A <span class='op'>=</span> <span class='fl'>0.5</span>,
  prob_B <span class='op'>=</span> <span class='fl'>0.5</span>,
  weight_A <span class='op'>=</span> <span class='fl'>0.5</span>,
  weight_B <span class='op'>=</span> <span class='fl'>0.5</span>,
  outcome_means <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>4</span><span class='op'>)</span>,
  mean_A0B0 <span class='op'>=</span> <span class='va'>outcome_means</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>]</span>,
  mean_A0B1 <span class='op'>=</span> <span class='va'>outcome_means</span><span class='op'>[</span><span class='fl'>2</span><span class='op'>]</span>,
  mean_A1B0 <span class='op'>=</span> <span class='va'>outcome_means</span><span class='op'>[</span><span class='fl'>3</span><span class='op'>]</span>,
  mean_A1B1 <span class='op'>=</span> <span class='va'>outcome_means</span><span class='op'>[</span><span class='fl'>4</span><span class='op'>]</span>,
  sd_i <span class='op'>=</span> <span class='fl'>1</span>,
  outcome_sds <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>4</span><span class='op'>)</span>,
  args_to_fix <span class='op'>=</span> <span class='cn'>NULL</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>N</th>
      <td><p>An integer. Size of sample.</p></td>
    </tr>
    <tr>
      <th>prob_A</th>
      <td><p>A number in [0,1]. Probability of assignment to treatment A.</p></td>
    </tr>
    <tr>
      <th>prob_B</th>
      <td><p>A number in [0,1]. Probability of assignment to treatment B.</p></td>
    </tr>
    <tr>
      <th>weight_A</th>
      <td><p>A number. Weight placed on A=1 condition in definition of "average effect of B" estimand.</p></td>
    </tr>
    <tr>
      <th>weight_B</th>
      <td><p>A number. Weight placed on B=1 condition in definition of "average effect of A" estimand.</p></td>
    </tr>
    <tr>
      <th>outcome_means</th>
      <td><p>A vector of length 4. Average outcome in each A,B condition, in order AB = 00, 01, 10, 11. Values overridden by mean_A0B0, mean_A0B1, mean_A1B0, mean_A1B1, if provided.</p></td>
    </tr>
    <tr>
      <th>mean_A0B0</th>
      <td><p>A number. Mean outcome in A=0, B=0 condition.</p></td>
    </tr>
    <tr>
      <th>mean_A0B1</th>
      <td><p>A number. Mean outcome in A=0, B=1 condition.</p></td>
    </tr>
    <tr>
      <th>mean_A1B0</th>
      <td><p>A number. Mean outcome in A=1, B=0 condition.</p></td>
    </tr>
    <tr>
      <th>mean_A1B1</th>
      <td><p>A number. Mean outcome in A=1, B=1 condition.</p></td>
    </tr>
    <tr>
      <th>sd_i</th>
      <td><p>A nonnegative scalar. Standard deviation of individual-level shock (common across arms).</p></td>
    </tr>
    <tr>
      <th>outcome_sds</th>
      <td><p>A nonnegative vector of length 4. Standard deviation of (additional) unit level shock in each condition, in order AB = 00, 01, 10, 11.</p></td>
    </tr>
    <tr>
      <th>args_to_fix</th>
      <td><p>A character vector. Names of arguments to be args_to_fix in design.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A two-by-two factorial design.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Three types of estimand are declared. First, weighted averages of the average treatment effects of each treatment, given the two conditions of the other treatments. Second and third, the difference in treatment effects of each treatment, given the conditions of the other treatment.</p>
<p>Units are assigned to treatment using complete random assignment. Potential outcomes follow a normal distribution.</p>
<p>Treatment A is assigned first and then Treatment B within blocks defined by treatment A. Thus, if there are 6 units 
3 are guaranteed to receive treatment A but the number receiving treatment B is stochastic.</p>
<p>See <code><a href='multi_arm_designer.html'>multi_arm_designer</a></code> for a factorial design with non independent assignments.</p>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p><a href='https://declaredesign.org/'>DeclareDesign Team</a></p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='va'>design</span> <span class='op'>&lt;-</span> <span class='fu'>two_by_two_designer</span><span class='op'>(</span>outcome_means <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>,<span class='fl'>0</span>,<span class='fl'>0</span>,<span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'># A design biased for the specified estimands:</span>
<span class='va'>design</span> <span class='op'>&lt;-</span> <span class='fu'>two_by_two_designer</span><span class='op'>(</span>outcome_means <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>,<span class='fl'>0</span>,<span class='fl'>0</span>,<span class='fl'>1</span><span class='op'>)</span>, prob_A <span class='op'>=</span> <span class='fl'>.8</span>, prob_B <span class='op'>=</span> <span class='fl'>.2</span><span class='op'>)</span>
<span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='fu'><a href='https://declaredesign.org/r/declaredesign/reference/diagnose_design.html'>diagnose_design</a></span><span class='op'>(</span><span class='va'>design</span><span class='op'>)</span>
<span class='op'>}</span>

<span class='co'># A design with estimands that "match" the assignment:</span>
<span class='va'>design</span> <span class='op'>&lt;-</span> <span class='fu'>two_by_two_designer</span><span class='op'>(</span>outcome_means <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>,<span class='fl'>0</span>,<span class='fl'>0</span>,<span class='fl'>1</span><span class='op'>)</span>, 
                                    prob_A <span class='op'>=</span> <span class='fl'>.8</span>, prob_B <span class='op'>=</span> <span class='fl'>.2</span>, 
                                    weight_A <span class='op'>=</span> <span class='fl'>.8</span>, weight_B <span class='op'>=</span> <span class='fl'>.2</span><span class='op'>)</span>
<span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='fu'><a href='https://declaredesign.org/r/declaredesign/reference/diagnose_design.html'>diagnose_design</a></span><span class='op'>(</span><span class='va'>design</span><span class='op'>)</span>
<span class='op'>}</span>

<span class='co'># Compare power with and without interactions, given same average effects in each arm</span>
<span class='va'>designs</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://declaredesign.org/r/declaredesign/reference/redesign.html'>redesign</a></span><span class='op'>(</span><span class='fu'>two_by_two_designer</span><span class='op'>(</span><span class='op'>)</span>, 
                    outcome_means <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>,<span class='fl'>0</span>,<span class='fl'>0</span>,<span class='fl'>1</span><span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>,<span class='fl'>.5</span>,<span class='fl'>.5</span>,<span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
<span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='fu'><a href='https://declaredesign.org/r/declaredesign/reference/diagnose_design.html'>diagnose_design</a></span><span class='op'>(</span><span class='va'>designs</span><span class='op'>)</span>
<span class='op'>}</span>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Graeme Blair, Jasper Cooper, Alexander Coppock, Macartan Humphreys, Clara Bicalho, Neal Fultz, Lily Medina.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


