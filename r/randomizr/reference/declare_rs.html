<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Declare a random sampling procedure. — declare_rs • randomizr</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Declare a random sampling procedure. — declare_rs" />
<meta property="og:description" content="Declare a random sampling procedure." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="https://declaredesign.org"><img height = 125% src = "https://declaredesign.org/images/brand.svg"></a>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Software
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="http://declaredesign.org/r/declaredesign/">DeclareDesign</a>
    </li>
    <li>
      <a href="https://declaredesign.org/r/fabricatr/">fabricatr</a>
    </li>
    <li>
      <a href="https://declaredesign.org/r/estimatr/">estimatr</a>
    </li>
    <li>
      <a href="https://declaredesign.org/r/designlibrary/">DesignLibrary</a>
    </li>
  </ul>
</li>
<li>
  <a href="http://discuss.declaredesign.org">Help</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://declaredesign.org/r/randomizr/">randomizr home</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/randomizr_vignette.html">Getting started with randomizr</a>
    </li>
    <li>
      <a href="../articles/srandomizr_vignette.html">Getting started with randomizr for Stata</a>
    </li>
  </ul>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->




      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Declare a random sampling procedure.</h1>
    <small class="dont-index">Source: <a href='https://github.com/DeclareDesign/randomizr/blob/master/R/declare_rs.R'><code>R/declare_rs.R</code></a></small>
    <div class="hidden name"><code>declare_rs.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Declare a random sampling procedure.</p>
    </div>

    <pre class="usage"><span class='fu'>declare_rs</span><span class='op'>(</span>N <span class='op'>=</span> <span class='cn'>NULL</span>, strata <span class='op'>=</span> <span class='cn'>NULL</span>, clusters <span class='op'>=</span> <span class='cn'>NULL</span>, n <span class='op'>=</span> <span class='cn'>NULL</span>,
  n_unit <span class='op'>=</span> <span class='cn'>NULL</span>, prob <span class='op'>=</span> <span class='cn'>NULL</span>, prob_unit <span class='op'>=</span> <span class='cn'>NULL</span>, strata_n <span class='op'>=</span> <span class='cn'>NULL</span>,
  strata_prob <span class='op'>=</span> <span class='cn'>NULL</span>, simple <span class='op'>=</span> <span class='cn'>FALSE</span>, check_inputs <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>N</th>
      <td><p>The number of units. N must be a positive integer. (required)</p></td>
    </tr>
    <tr>
      <th>strata</th>
      <td><p>A vector of length N that indicates which stratum each unit belongs to.</p></td>
    </tr>
    <tr>
      <th>clusters</th>
      <td><p>A vector of length N that indicates which cluster each unit belongs to.</p></td>
    </tr>
    <tr>
      <th>n</th>
      <td><p>Use for a design in which n units (or clusters) are sampled. In a stratified design, exactly n units in each stratum will be sampled. (optional)</p></td>
    </tr>
    <tr>
      <th>n_unit</th>
      <td><p>Under complete random sampling, must be constant across units. Under stratified random sampling, must be constant within strata.</p></td>
    </tr>
    <tr>
      <th>prob</th>
      <td><p>Use for a design in which either floor(N*prob) or ceiling(N*prob) units (or clusters) are sampled. The probability of being sampled is exactly prob because with probability 1-prob, floor(N*prob) units (or clusters) will be sampled and with probability prob, ceiling(N*prob) units (or clusters) will be sampled. prob must be a real number between 0 and 1 inclusive. (optional)</p></td>
    </tr>
    <tr>
      <th>prob_unit</th>
      <td><p>Must of be of length N. Under simple random sampling, can be different for each unit or cluster.  Under complete random sampling, must be constant across units. Under stratified random sampling, must be constant within strata.</p></td>
    </tr>
    <tr>
      <th>strata_n</th>
      <td><p>Use for a design in which strata_n describes the number of units to sample within each stratum.</p></td>
    </tr>
    <tr>
      <th>strata_prob</th>
      <td><p>Use for a design in which strata_prob describes the probability of being sampled within each stratum. Differs from prob in that the probability of being sampled can vary across strata.</p></td>
    </tr>
    <tr>
      <th>simple</th>
      <td><p>logical, defaults to FALSE. If TRUE, simple random sampling is used. When <code>simple = TRUE</code>, please do not specify n or strata_n. When <code>simple = TRUE</code>, <code>prob</code> may vary by unit.</p></td>
    </tr>
    <tr>
      <th>check_inputs</th>
      <td><p>logical. Defaults to TRUE.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A list of class "declaration".  The list has five entries:
  $rs_function, a function that generates random samplings according to the declaration.
  $rs_type, a string indicating the type of random sampling used
  $probabilities_vector, A vector length N indicating the probability of being sampled.
  $strata, the stratification variable.
  $clusters, the clustering variable.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># The declare_rs function is used in three ways:</span>

<span class='co'># 1. To obtain some basic facts about a sampling procedure:</span>
<span class='va'>declaration</span> <span class='op'>&lt;-</span> <span class='fu'>declare_rs</span><span class='op'>(</span>N <span class='op'>=</span> <span class='fl'>100</span>, n <span class='op'>=</span> <span class='fl'>30</span><span class='op'>)</span>
<span class='va'>declaration</span>
</div><div class='output co'>#&gt; Random sampling procedure: Complete random sampling 
#&gt; Number of units: 100 
#&gt; The inclusion probabilities are constant across units.</div><div class='input'>
<span class='co'># 2. To draw a random sample:</span>

<span class='va'>S</span> <span class='op'>&lt;-</span> <span class='fu'><a href='draw_rs.html'>draw_rs</a></span><span class='op'>(</span><span class='va'>declaration</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/table.html'>table</a></span><span class='op'>(</span><span class='va'>S</span><span class='op'>)</span>
</div><div class='output co'>#&gt; S
#&gt;  0  1 
#&gt; 70 30 </div><div class='input'>
<span class='co'># 3. To obtain inclusion probabilities</span>

<span class='va'>probs</span> <span class='op'>&lt;-</span> <span class='fu'><a href='obtain_inclusion_probabilities.html'>obtain_inclusion_probabilities</a></span><span class='op'>(</span><span class='va'>declaration</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/table.html'>table</a></span><span class='op'>(</span><span class='va'>probs</span>, <span class='va'>S</span><span class='op'>)</span>
</div><div class='output co'>#&gt;      S
#&gt; probs  0  1
#&gt;   0.3 70 30</div><div class='input'>
<span class='co'># Simple Random Sampling Declarations</span>

<span class='fu'>declare_rs</span><span class='op'>(</span>N <span class='op'>=</span> <span class='fl'>100</span>, simple <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
</div><div class='output co'>#&gt; Random sampling procedure: Simple random sampling 
#&gt; Number of units: 100 
#&gt; The inclusion probabilities are constant across units.</div><div class='input'><span class='fu'>declare_rs</span><span class='op'>(</span>N <span class='op'>=</span> <span class='fl'>100</span>, prob <span class='op'>=</span> <span class='fl'>.4</span>, simple <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
</div><div class='output co'>#&gt; Random sampling procedure: Simple random sampling 
#&gt; Number of units: 100 
#&gt; The inclusion probabilities are constant across units.</div><div class='input'>
<span class='co'># Complete Random Sampling Declarations</span>

<span class='fu'>declare_rs</span><span class='op'>(</span>N <span class='op'>=</span> <span class='fl'>100</span><span class='op'>)</span>
</div><div class='output co'>#&gt; Random sampling procedure: Complete random sampling 
#&gt; Number of units: 100 
#&gt; The inclusion probabilities are constant across units.</div><div class='input'><span class='fu'>declare_rs</span><span class='op'>(</span>N <span class='op'>=</span> <span class='fl'>100</span>, n <span class='op'>=</span> <span class='fl'>30</span><span class='op'>)</span>
</div><div class='output co'>#&gt; Random sampling procedure: Complete random sampling 
#&gt; Number of units: 100 
#&gt; The inclusion probabilities are constant across units.</div><div class='input'>
<span class='co'># Stratified Random Sampling Declarations</span>

<span class='va'>strata</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"A"</span>, <span class='st'>"B"</span>,<span class='st'>"C"</span><span class='op'>)</span>, times<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>50</span>, <span class='fl'>100</span>, <span class='fl'>200</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'>declare_rs</span><span class='op'>(</span>strata <span class='op'>=</span> <span class='va'>strata</span><span class='op'>)</span>
</div><div class='output co'>#&gt; Random sampling procedure: Stratified random sampling 
#&gt; Number of units: 350 
#&gt; Number of strata: 3 
#&gt; The inclusion probabilities are constant across units.</div><div class='input'><span class='fu'>declare_rs</span><span class='op'>(</span>strata <span class='op'>=</span> <span class='va'>strata</span>, prob <span class='op'>=</span> <span class='fl'>.5</span><span class='op'>)</span>
</div><div class='output co'>#&gt; Random sampling procedure: Stratified random sampling 
#&gt; Number of units: 350 
#&gt; Number of strata: 3 
#&gt; The inclusion probabilities are constant across units.</div><div class='input'>

<span class='co'># Cluster Random Sampling Declarations</span>

<span class='va'>clusters</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='va'>letters</span>, times <span class='op'>=</span> <span class='fl'>1</span><span class='op'>:</span><span class='fl'>26</span><span class='op'>)</span>
<span class='fu'>declare_rs</span><span class='op'>(</span>clusters <span class='op'>=</span> <span class='va'>clusters</span><span class='op'>)</span>
</div><div class='output co'>#&gt; Random sampling procedure: Cluster random sampling 
#&gt; Number of units: 351 
#&gt; Number of clusters: 26 
#&gt; The inclusion probabilities are constant across units.</div><div class='input'><span class='fu'>declare_rs</span><span class='op'>(</span>clusters <span class='op'>=</span> <span class='va'>clusters</span>, n <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span>
</div><div class='output co'>#&gt; Random sampling procedure: Cluster random sampling 
#&gt; Number of units: 351 
#&gt; Number of clusters: 26 
#&gt; The inclusion probabilities are constant across units.</div><div class='input'>
<span class='co'># Stratified and Clustered Random Sampling Declarations</span>

<span class='va'>clusters</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='va'>letters</span>, times <span class='op'>=</span> <span class='fl'>1</span><span class='op'>:</span><span class='fl'>26</span><span class='op'>)</span>
<span class='va'>strata</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='cn'>NA</span>, <span class='fu'><a href='https://rdrr.io/r/base/length.html'>length</a></span><span class='op'>(</span><span class='va'>clusters</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>strata</span><span class='op'>[</span><span class='va'>clusters</span> <span class='op'>%in%</span> <span class='va'>letters</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>5</span><span class='op'>]</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='st'>"stratum_1"</span>
<span class='va'>strata</span><span class='op'>[</span><span class='va'>clusters</span> <span class='op'>%in%</span> <span class='va'>letters</span><span class='op'>[</span><span class='fl'>6</span><span class='op'>:</span><span class='fl'>10</span><span class='op'>]</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='st'>"stratum_2"</span>
<span class='va'>strata</span><span class='op'>[</span><span class='va'>clusters</span> <span class='op'>%in%</span> <span class='va'>letters</span><span class='op'>[</span><span class='fl'>11</span><span class='op'>:</span><span class='fl'>15</span><span class='op'>]</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='st'>"stratum_3"</span>
<span class='va'>strata</span><span class='op'>[</span><span class='va'>clusters</span> <span class='op'>%in%</span> <span class='va'>letters</span><span class='op'>[</span><span class='fl'>16</span><span class='op'>:</span><span class='fl'>20</span><span class='op'>]</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='st'>"stratum_4"</span>
<span class='va'>strata</span><span class='op'>[</span><span class='va'>clusters</span> <span class='op'>%in%</span> <span class='va'>letters</span><span class='op'>[</span><span class='fl'>21</span><span class='op'>:</span><span class='fl'>26</span><span class='op'>]</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='st'>"stratum_5"</span>

<span class='fu'><a href='https://rdrr.io/r/base/table.html'>table</a></span><span class='op'>(</span><span class='va'>strata</span>, <span class='va'>clusters</span><span class='op'>)</span>
</div><div class='output co'>#&gt;            clusters
#&gt; strata       a  b  c  d  e  f  g  h  i  j  k  l  m  n  o  p  q  r  s  t  u  v
#&gt;   stratum_1  1  2  3  4  5  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
#&gt;   stratum_2  0  0  0  0  0  6  7  8  9 10  0  0  0  0  0  0  0  0  0  0  0  0
#&gt;   stratum_3  0  0  0  0  0  0  0  0  0  0 11 12 13 14 15  0  0  0  0  0  0  0
#&gt;   stratum_4  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0 16 17 18 19 20  0  0
#&gt;   stratum_5  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0 21 22
#&gt;            clusters
#&gt; strata       w  x  y  z
#&gt;   stratum_1  0  0  0  0
#&gt;   stratum_2  0  0  0  0
#&gt;   stratum_3  0  0  0  0
#&gt;   stratum_4  0  0  0  0
#&gt;   stratum_5 23 24 25 26</div><div class='input'>
<span class='fu'>declare_rs</span><span class='op'>(</span>clusters <span class='op'>=</span> <span class='va'>clusters</span>, strata <span class='op'>=</span> <span class='va'>strata</span><span class='op'>)</span>
</div><div class='output co'>#&gt; Random sampling procedure: Stratified and clustered random sampling 
#&gt; Number of units: 351 
#&gt; Number of strata: 5 
#&gt; Number of clusters: 26 
#&gt; The inclusion probabilities are constant across units.</div><div class='input'><span class='fu'>declare_rs</span><span class='op'>(</span>clusters <span class='op'>=</span> <span class='va'>clusters</span>, strata <span class='op'>=</span> <span class='va'>strata</span>, prob <span class='op'>=</span> <span class='fl'>.3</span><span class='op'>)</span>
</div><div class='output co'>#&gt; Random sampling procedure: Stratified and clustered random sampling 
#&gt; Number of units: 351 
#&gt; Number of strata: 5 
#&gt; Number of clusters: 26 
#&gt; The inclusion probabilities are constant across units.</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Alexander Coppock.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


