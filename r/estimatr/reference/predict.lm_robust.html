<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Predict method for lm_robust object — predict.lm_robust • estimatr</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Predict method for lm_robust object — predict.lm_robust" />
<meta property="og:description" content="Predict method for lm_robust object" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="https://declaredesign.org"><img height = 125% width = 125% src = "https://declaredesign.org/images/brand.svg"></a>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/absorbing-fixed-effects.html">Absorbing Fixed Effects with estimatr</a>
    </li>
    <li>
      <a href="../articles/benchmarking-estimatr.html">Benchmarking estimatr</a>
    </li>
    <li>
      <a href="../articles/emmeans-examples.html">Examples with emmeans</a>
    </li>
    <li>
      <a href="../articles/estimatr-in-the-tidyverse.html">estimatr in the Tidyverse</a>
    </li>
    <li>
      <a href="../articles/getting-started.html">Getting started using estimatr</a>
    </li>
    <li>
      <a href="../articles/mathematical-notes.html">Mathematical notes for estimatr</a>
    </li>
    <li>
      <a href="../articles/regression-tables.html">Regression Tables with estimatr</a>
    </li>
    <li>
      <a href="../articles/simulations-debiasing-dim.html">Simulations - Debiasing Difference-in-Means</a>
    </li>
    <li>
      <a href="../articles/simulations-ols-variance.html">Simulations - OLS and Variance</a>
    </li>
    <li>
      <a href="../articles/stata-wls-hat.html">How Stata's hat matrix differs with weights</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/DeclareDesign/estimatr/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Predict method for <code>lm_robust</code> object</h1>
    <small class="dont-index">Source: <a href='https://github.com/DeclareDesign/estimatr/blob/master/R/S3_predict.R'><code>R/S3_predict.R</code></a></small>
    <div class="hidden name"><code>predict.lm_robust.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Predict method for <code>lm_robust</code> object</p>
    </div>

    <pre class="usage"><span class='co'># S3 method for lm_robust</span>
<span class='fu'><a href='https://rdrr.io/r/stats/predict.html'>predict</a></span><span class='op'>(</span>
  <span class='va'>object</span>,
  <span class='va'>newdata</span>,
  se.fit <span class='op'>=</span> <span class='cn'>FALSE</span>,
  interval <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"none"</span>, <span class='st'>"confidence"</span>, <span class='st'>"prediction"</span><span class='op'>)</span>,
  alpha <span class='op'>=</span> <span class='fl'>0.05</span>,
  na.action <span class='op'>=</span> <span class='va'>na.pass</span>,
  pred.var <span class='op'>=</span> <span class='cn'>NULL</span>,
  <span class='va'>weights</span>,
  <span class='va'>...</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>object</th>
      <td><p>an object of class 'lm_robust'</p></td>
    </tr>
    <tr>
      <th>newdata</th>
      <td><p>a data frame in which to look for variables with which to predict</p></td>
    </tr>
    <tr>
      <th>se.fit</th>
      <td><p>logical. Whether standard errors are required, default = FALSE</p></td>
    </tr>
    <tr>
      <th>interval</th>
      <td><p>type of interval calculation. Can be abbreviated, default = none</p></td>
    </tr>
    <tr>
      <th>alpha</th>
      <td><p>numeric denoting the test size for confidence intervals</p></td>
    </tr>
    <tr>
      <th>na.action</th>
      <td><p>function determining what should be done with missing
values in newdata. The default is to predict NA.</p></td>
    </tr>
    <tr>
      <th>pred.var</th>
      <td><p>the variance(s) for future observations to be assumed for
prediction intervals.</p></td>
    </tr>
    <tr>
      <th>weights</th>
      <td><p>variance weights for prediction. This can be a numeric
vector or a bare (unquoted) name of the weights variable in the supplied
newdata.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>other arguments, unused</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Produces predicted values, obtained by evaluating the regression
function in the frame <code>newdata</code> for fits from <code>lm_robust</code> and
<code>lm_lin</code>. If the logical se.fit is TRUE, standard errors of the
predictions are calculated. Setting intervals specifies computation of
confidence or prediction (tolerance) intervals at the specified level,
sometimes referred to as narrow vs. wide intervals.</p>
<p>The equation used for the standard error of a prediction given a row of
data \(x\) is:</p>
<p>\(\sqrt(x \Sigma x')\),</p>
<p>where \(\Sigma\) is the estimated variance-covariance matrix from
<code>lm_robust</code>.</p>
<p>The prediction intervals are for a single observation at each case in
<code>newdata</code> with error variance(s) <code>pred.var</code>. The the default is to assume
that future observations have the same error variance as those used for
fitting, which is gotten from the fit <code><a href='lm_robust.html'>lm_robust</a></code> object. If
weights is supplied, the inverse of this is used as a scale factor. If the
fit was weighted, the default is to assume constant prediction variance,
with a warning.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='co'># Set seed</span>
<span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>42</span><span class='op'>)</span>

<span class='co'># Simulate data</span>
<span class='va'>n</span> <span class='op'>&lt;-</span> <span class='fl'>10</span>
<span class='va'>dat</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span><span class='op'>(</span><span class='va'>n</span><span class='op'>)</span>, x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span><span class='op'>(</span><span class='va'>n</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'># Fit lm</span>
<span class='va'>lm_out</span> <span class='op'>&lt;-</span> <span class='fu'><a href='lm_robust.html'>lm_robust</a></span><span class='op'>(</span><span class='va'>y</span> <span class='op'>~</span> <span class='va'>x</span>, data <span class='op'>=</span> <span class='va'>dat</span><span class='op'>)</span>
<span class='co'># Get predicted fits</span>
<span class='va'>fits</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/predict.html'>predict</a></span><span class='op'>(</span><span class='va'>lm_out</span>, newdata <span class='op'>=</span> <span class='va'>dat</span><span class='op'>)</span>
<span class='co'># With standard errors and confidence intervals</span>
<span class='va'>fits</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/predict.html'>predict</a></span><span class='op'>(</span><span class='va'>lm_out</span>, newdata <span class='op'>=</span> <span class='va'>dat</span>, se.fit <span class='op'>=</span> <span class='cn'>TRUE</span>, interval <span class='op'>=</span> <span class='st'>"confidence"</span><span class='op'>)</span>

<span class='co'># Use new data as well</span>
<span class='va'>new_dat</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/Uniform.html'>runif</a></span><span class='op'>(</span><span class='va'>n</span>, <span class='fl'>5</span>, <span class='fl'>8</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/stats/predict.html'>predict</a></span><span class='op'>(</span><span class='va'>lm_out</span>, newdata <span class='op'>=</span> <span class='va'>new_dat</span><span class='op'>)</span>
</div><div class='output co'>#&gt;          1          2          3          4          5          6          7 
#&gt; -0.6633382 -0.6957332 -0.4661705 -1.0056478 -0.6934163 -0.9964482 -0.9562101 
#&gt;          8          9         10 
#&gt; -0.8134173 -1.0041648 -0.8012341 </div><div class='input'>
<span class='co'># You can also supply custom variance weights for prediction intervals</span>
<span class='va'>new_dat</span><span class='op'>$</span><span class='va'>w</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/Uniform.html'>runif</a></span><span class='op'>(</span><span class='va'>n</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/stats/predict.html'>predict</a></span><span class='op'>(</span><span class='va'>lm_out</span>, newdata <span class='op'>=</span> <span class='va'>new_dat</span>, weights <span class='op'>=</span> <span class='va'>w</span>, interval <span class='op'>=</span> <span class='st'>"prediction"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; $fit
#&gt;              fit        lwr      upr
#&gt;  [1,] -0.6633382  -5.162176 3.835499
#&gt;  [2,] -0.6957332  -5.207346 3.815879
#&gt;  [3,] -0.4661705  -4.414089 3.481748
#&gt;  [4,] -1.0056478  -5.520872 3.509577
#&gt;  [5,] -0.6934163 -10.799452 9.412619
#&gt;  [6,] -0.9964482  -5.514685 3.521789
#&gt;  [7,] -0.9562101  -5.438922 3.526502
#&gt;  [8,] -0.8134173  -6.558348 4.931514
#&gt;  [9,] -1.0041648  -6.438104 4.429774
#&gt; [10,] -0.8012341  -5.137823 3.535355
#&gt; </div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Graeme Blair, Jasper Cooper, Alexander Coppock, Macartan Humphreys, Luke Sonnet.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


